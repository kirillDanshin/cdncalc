var sort_pops=false;var sort_price=false;function show_cdn_plan_notes(d,c,a,b){b=(typeof b==="undefined")?"":b;$("#traffic_info tr:contains("+d+") td").eq(3).html(c+((a>0)?(" + extra $"+a+" "):"")+b)}function plan_calc(f,e){var b=$("#traffic_volume").val();var a=0;var d=0;var c="";$.each(f,function(g){if(b<=this.included){a=this.price;$("#traffic_info tr:contains("+e+") td").eq(3).html(this.name+((e=="MaxCDN")?c:""));return false}else{$("#traffic_info tr:contains("+e+") td").eq(3).html(this.name+((e=="MaxCDN")?c:""));var h=b-this.included;var i=f[g+1];if(typeof i!=="undefined"&&b<i.included&&h*this.excessPrice+this.price<i.price){a=h*this.excessPrice+this.price;show_cdn_plan_notes(e,this.name,Math.round(h*this.excessPrice),(e=="MaxCDN")?c:"");return false}else{a=h*this.excessPrice+this.price;show_cdn_plan_notes(e,this.name,Math.round(h*this.excessPrice),(e=="MaxCDN")?c:"")}}d=this.excessPrice});a=a?a:Math.round(b*d);$("#traffic_info tr:contains("+e+") td:last").html("$"+Math.round(a))}function calculate_total(){var b=0;var a=[{name:"US"},{name:"SA"},{name:"EU"},{name:"AU"},{name:"AS"},{name:"AF"},{name:"RU"}];$.each(a,function(){$("#traff"+this.name).val($("#traff"+this.name).val().replace(/\D+/g,""));if($("#traff"+this.name).val()==""){$("#traff"+this.name).val(0)}b+=parseInt($("#traff"+this.name).val())});if(b!=100){$.each(a,function(){$("#traff"+this.name).parent().removeClass("has-success");$("#traff"+this.name).parent().addClass("has-error")})}else{$.each(a,function(){$("#traff"+this.name).parent().removeClass("has-error");$("#traff"+this.name).parent().addClass("has-success")})}return b}var continents_codes={US:"USA",SA:"South America",EU:"Europe",AU:"Australia",AS:"Asia",AF:"Africa"};var plans={Cachefly:function(){var a=[{name:"Plus",price:99,included:256,excessPrice:0.37},{name:"Premium",price:299,included:1200,excessPrice:0.25},{name:"Platinum",price:409,included:2048,excessPrice:0.2}];plan_calc(a,"CacheFly")},BandwidthHog:function(){var a=[{name:"PAYG",price:0,included:0,excessPrice:0.01},{name:"100TB",price:989,included:100000,excessPrice:0.01},{name:"1PB",price:7999,included:1000000,excessPrice:0.007},{name:"5PB",price:24980,included:5000000,excessPrice:0.005}];plan_calc(a,"BandwidthHog")},MaxCDN:function(){var a=[{name:"100GB",price:9,included:100,excessPrice:0.08},{name:"500GB",price:39,included:500,excessPrice:0.07},{name:"1TB",price:79,included:1000,excessPrice:0.06},{name:"5TB",price:299,included:5000,excessPrice:0.055},{name:"10TB",price:499,included:10000,excessPrice:0.05},{name:"50TB",price:2560,included:50000,excessPrice:0.045},{name:"150TB",price:6144,included:150000,excessPrice:0.04},{name:"350TB",price:12544,included:350000,excessPrice:0.035}];plan_calc(a,"MaxCDN")},CDNNOW:function(){var e,d,c;var b=$("#traffic_volume").val();var a=0;switch(true){case b<10240:d=Math.ceil(b*0.089);e=Math.ceil(b*0.105);c="Europe, Asia - "+d+"$<br>USA, South America - "+e+"$";break;case b>=10240&&b<51200:d=Math.ceil(b*0.072);e=Math.ceil(b*0.089);c="Europe, Asia - "+d+"$<br>USA, South America - "+e+"$";break;case b>=51200&&b<102400:d=Math.ceil(b*0.064);e=Math.ceil(b*0.08);c="Europe, Asia - "+d+"$<br>USA, South America - "+e+"$";break;case b>=102400:d=Math.ceil(b*0.056);e=Math.ceil(b*0.072);c="Europe, Asia - "+d+"$<br>USA, South America - "+e+"$";break}a=e+d;show_cdn_plan_notes("CDNNOW",c);$("#traffic_info tr:contains(CDNNOW) td:last").html("$"+a)},MtProCDN:function(){var b=$("#traffic_volume").val();var a=0;if(b<=200){a=20;show_cdn_plan_notes("ProCDN","Default Plan")}else{if(b<=10240){a=20+(b-200)*0.15;show_cdn_plan_notes("ProCDN","Default Plan",Math.round((b-200)*0.15))}else{a=20+(b-200)*0.1;show_cdn_plan_notes("ProCDN","Default Plan",Math.round((b-200)*0.15))}}a=Math.round(a);$("#traffic_info tr:contains(ProCDN) td:last").html("$"+a)},KeyCDN:function(){var c=$("#traffic_volume").val();var a=0;var d=0;d=calculate_total();var b=[{traffic:0,volume:10000,prices:[{continents:["US","EU"],price:0.04},{continents:["AU","AS"],price:0.04}]},{traffic:10000,volume:40000,prices:[{continents:["US","EU"],price:0.036},{continents:["AU","AS"],price:0.04}]},{traffic:50000,volume:100000,prices:[{continents:["US","EU"],price:0.032},{continents:["AU","AS"],price:0.04}]},{traffic:150000,volume:350000,prices:[{continents:["US","EU"],price:0.028},{continents:["AU","AS"],price:0.04}]},{traffic:500000,volume:350000,prices:[{continents:["US","EU"],price:0.02},{continents:["AU","AS"],price:0.04}]},{traffic:1000000,volume:20000000,prices:[{continents:["US","EU"],price:0.01},{continents:["AU","AS"],price:0.04}]},];$.each(b,function(e){var f=0;if(c>this.traffic){if(c<=(this.traffic+this.volume)){f=c-this.traffic}else{f=this.volume}$.each(this.prices,function(){var g=this.price;$.each(this.continents,function(){a+=f*($("#traff"+this).val())*g/d})})}});show_cdn_plan_notes("KeyCDN","Default Plan");a=Math.ceil(a);$("#traffic_info tr:contains(KeyCDN) td:last").html("$"+a)},CDNify:function(){var a=[{name:"Micro",price:10,included:150,excessPrice:0.07},{name:"Developer",price:30,included:500,excessPrice:0.06},{name:"Startup",price:60,included:1000,excessPrice:0.05},{name:"Agency",price:100,included:2000,excessPrice:0.05},{name:"Enterprise",price:250,included:5000,excessPrice:0.05},{name:"Enterprise 10",price:500,included:10000,excessPrice:0.05},{name:"Enterprise 20",price:1000,included:20000,excessPrice:0.04},{name:"Enterprise 50",price:2000,included:50000,excessPrice:0.04}];plan_calc(a,"CDNify")},Akamai:function(){var b=$("#traffic_volume").val();var a=Math.ceil(b*0.15);$.each([[1000,100],[2500,250],[5000,500],[10000,900],[100000,8000]],function(c){if(b<=this[0]){a=this[1];return false}});$("#traffic_info tr:contains(Akamai) td:last").html("$"+a)},SoftlayerCDN:function(){var b=$("#traffic_volume").val();var a=Math.ceil(($("#traffProtocolHTTP:checked").val()?(b*0.12):0)+($("#traffProtocolHTTPS:checked").val()?(b*0.15):0));$("#traffic_info tr:contains(Layer) td:last").html("$"+a);show_cdn_plan_notes("Layer","Origin Pull Solution")},GoGridCDN:function(){var c=$("#traffic_volume").val();var a=0;var g=0;g=calculate_total();var b=[{name:"US",price:0.3},{name:"SA",price:0.3},{name:"EU",price:0.3},{name:"AU",price:0.8},{name:"AS",price:0.8}];var f="",e=0,d=0;$.each(b,function(){a+=c*($("#traff"+this.name).val())*this.price/g;if($.inArray(this.name,["US","SA","EU"])!=-1){e+=(c*$("#traff"+this.name).val()*this.price)/g}if($.inArray(this.name,["AS","AU"])!=-1){d+=(c*$("#traff"+this.name).val()*this.price)/g}});f+="Global $"+Math.ceil(e)+"<br>";f+="Asia+Australia $"+Math.ceil(d)+"";a=Math.ceil(a);$("#traffic_info tr:contains(GoGrid) td:last").html("$"+a);show_cdn_plan_notes("GoGrid",f)},CDN77:function(){var c=$("#traffic_volume").val();var a=0;var d="",e=0;e=calculate_total();var b=[{traffic:30000,prices:[{continents:["US","EU"],price:0.049},{continents:["AS","AF"],price:0.125},{continents:["SA"],price:0.185}]},{traffic:100000,prices:[{continents:["US","EU"],price:0.045},{continents:["AS","AF"],price:0.12},{continents:["SA"],price:0.16}]},{traffic:400000,prices:[{continents:["US","EU"],price:0.03},{continents:["AS","AF"],price:0.1},{continents:["SA"],price:0.135}]},{traffic:1000000,prices:[{continents:["US","EU"],price:0.025},{continents:["AS","AF"],price:0.085},{continents:["SA"],price:0.11}]},{traffic:-1,prices:[{continents:["US","EU"],price:0.019},{continents:["AS","AF"],price:0.07},{continents:["SA"],price:0.095}]}];$.each(b,function(f){if(c<=this.traffic||f==b.length-1){$.each(this.prices,function(){var i=this.price;var h=0;var g="";var j=this.continents;$.each(this.continents,function(k){a+=c*($("#traff"+this).val())*i/e;h+=c*($("#traff"+this).val())*i/e;g+=continents_codes[this]+((k<j.length-1)?", ":"")});if(h>0){d+=g+" - $"+Math.ceil(h)+"<br>"}});return false}});show_cdn_plan_notes("CDN77",d);a=Math.ceil(a);$("#traffic_info tr:contains(CDN77) td:last").html("$"+a)},CloudFront:function(){var e=$("#traffic_volume").val();var d=$("#inputHttpRequest").val();var b=$("#inputHttpSRequest").val();var a=0;var f="",g=0;g=calculate_total();var c=[{traffic:10000,prices:[{continents:["US","EU"],price:0.12},{continents:["AS","AU"],price:0.19},{continents:["SA"],price:0.25},{continents:["JP"],price:0.201},{continents:["IN"],price:0.17}]},{traffic:40000,prices:[{continents:["US","EU"],price:0.08},{continents:["AS","AU"],price:0.14},{continents:["SA"],price:0.2},{continents:["JP"],price:0.148},{continents:["IN"],price:0.13}]},{traffic:100000,prices:[{continents:["US","EU"],price:0.06},{continents:["AS","AU"],price:0.12},{continents:["SA"],price:0.18},{continents:["JP"],price:0.127},{continents:["IN"],price:0.11}]},{traffic:350000,prices:[{continents:["US","EU"],price:0.04},{continents:["AS","AU"],price:0.1},{continents:["SA"],price:0.16},{continents:["JP"],price:0.106},{continents:["IN"],price:0.1}]},{traffic:524000,prices:[{continents:["US","EU"],price:0.03},{continents:["AS"],price:0.08},{continents:["SA"],price:0.14},{continents:["AU"],price:0.095},{continents:["JP"],price:0.085},{continents:["IN"],price:0.1}]},{traffic:4000000,prices:[{continents:["US","EU"],price:0.025},{continents:["AS"],price:0.07},{continents:["SA"],price:0.13},{continents:["AU"],price:0.09},{continents:["JP"],price:0.075},{continents:["IN"],price:0.1}]},{traffic:-1,prices:[{continents:["US","EU"],price:0.02},{continents:["AS"],price:0.06},{continents:["SA"],price:0.125},{continents:["AU"],price:0.085},{continents:["JP"],price:0.065},{continents:["IN"],price:0.1}]}];var h=[{continents:["US"],price:7.5e-7,price_s:0.000001},{continents:["EU","AS"],price:9e-7,price_s:0.0000012},{continents:["AU"],price:9e-7,price_s:0.00000125},{continents:["SA"],price:0.0000016,price_s:0.0000022}];$.each(c,function(i){if(e<=this.traffic||i==c.length-1){$.each(this.prices,function(){var l=this.price;var k=0;var j="";var m=this.continents;$.each(this.continents,function(n){a+=e*($("#traff"+this).length>0?$("#traff"+this).val():0)*l/g;k+=e*($("#traff"+this).length>0?$("#traff"+this).val():0)*l/g;j+=continents_codes[this]+((n<m.length-1)?", ":"")});if(k>0){f+=j+" - $"+Math.ceil(k)+"<br>"}});return false}});show_cdn_plan_notes("CloudFront",f);$.each(h,function(i){var k=this.price;var j=this.price_s;$.each(this.continents,function(l){a+=($("#traffProtocolHTTP:checked").val()?(d*($("#traff"+this).val())*k/g):0)+($("#traffProtocolHTTPS:checked").val()?(b*($("#traff"+this).val())*j/g):0)})});a=Math.ceil(a);$("#traffic_info tr:contains(CloudFront) td:last").html("$"+a)},Fastly:function(){var e=$("#traffic_volume").val();var d=$("#inputHttpRequest").val();var b=$("#inputHttpSRequest").val();var a=0;var f="",g=0;g=calculate_total();var c=[{traffic:10000,prices:[{continents:["US","EU"],price:0.12},{continents:["AU","AS"],price:0.19}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:40000,prices:[{continents:["US","EU"],price:0.08},{continents:["AU","AS"],price:0.14}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:100000,prices:[{continents:["US","EU"],price:0.06},{continents:["AU","AS"],price:0.12}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:350000,prices:[{continents:["US","EU"],price:0.04},{continents:["AU","AS"],price:0.1}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:500000,prices:[{continents:["US","EU"],price:0.03},{continents:["AU","AS"],price:0.095}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:4000000,prices:[{continents:["US","EU"],price:0.025},{continents:["AU","AS"],price:0.09}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]},{traffic:-1,prices:[{continents:["US","EU"],price:0.02},{continents:["AU","AS"],price:0.085}],requests:[{continents:["US"],price:0.0075,price_s:0.01},{continents:["AU","EU","AS"],price:0.009,price_s:0.012}]}];$.each(c,function(h){if(e<=this.traffic||h==c.length-1){$.each(this.prices,function(){var k=this.price;var j=0;var i="";var l=this.continents;$.each(this.continents,function(m){a+=e*($("#traff"+this).val())*k/g;j+=e*($("#traff"+this).val())*k/g;i+=continents_codes[this]+((m<l.length-1)?", ":"")});if(j>0){f+=i+" - $"+Math.ceil(j)+"<br>"}});$.each(this.requests,function(){var j=this.price;var i=this.price_s;$.each(this.continents,function(k){a+=($("#traffProtocolHTTP:checked").val()?(d*($("#traff"+this).val())*j/g):0)+($("#traffProtocolHTTPS:checked").val()?(b*($("#traff"+this).val())*i/g):0)})});return false}});show_cdn_plan_notes("Fastly",f);a=Math.ceil(a);$("#traffic_info tr:contains(Fastly) td:last").html("$"+a)},JoDiHost:function(){var a=$("#traffic_volume").val();switch(true){case a<1000:result=result=Math.ceil(a*0.07);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=1000&&a<5000:result=result=Math.ceil(a*0.06);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=5000&&a<10000:result=result=Math.ceil(a*0.05);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=10000&&a<25000:result=result=Math.ceil(a*0.0425);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=25000&&a<50000:result=result=Math.ceil(a*0.04);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=50000&&a<100000:result=result=Math.ceil(a*0.035);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=100000&&a<200000:result=result=Math.ceil(a*0.03);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=200000&&a<500000:result=result=Math.ceil(a*0.025);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=500000&&a<1000000:result=result=Math.ceil(a*0.0225);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break;case a>=1000000:result=result=Math.ceil(a*0.02);show_cdn_plan_notes("JoDiHost","EdgeCast Global Premium");break}$("#traffic_info tr:contains(JoDiHost) td:last").html("$"+result)},SkyparkCDN:function(){var i=66;var c=$("#traffic_volume").val();var e="",f=0;f=calculate_total();continents_codes={RU:"Russia",US:"USA",SA:"South America",EU:"Europe",AU:"Australia",AS:"Asia",AF:"Africa"};var b={continents:["EU","US","SA"],price:5};var a={continents:["AU","AS","AF"],price:8};var g=[{traffic:1,prices:[b,a,{continents:["RU"],price:45}]},{traffic:5,prices:[b,a,{continents:["RU"],price:15}]},{traffic:50,prices:[b,a,{continents:["RU"],price:5}]},{traffic:100,prices:[b,a,{continents:["RU"],price:2.5}]},{traffic:500,prices:[b,a,{continents:["RU"],price:2}]},{traffic:3000,prices:[b,a,{continents:["RU"],price:1.7}]},{traffic:7000,prices:[b,a,{continents:["RU"],price:1.5}]},{traffic:15000,prices:[b,a,{continents:["RU"],price:1.2}]},{traffic:30000,prices:[b,a,{continents:["RU"],price:1}]},{traffic:100000,prices:[b,a,{continents:["RU"],price:1}]},{traffic:400000,prices:[b,a,{continents:["RU"],price:1}]},{traffic:700000,prices:[b,a,{continents:["RU"],price:1}]},{traffic:1000000,prices:[b,a,{continents:["RU"],price:1}]},{traffic:10000000,prices:[b,a,{continents:["RU"],price:1}]}];var j=g,d=c,l=0,k=0,h={};$.each(g,function(n){var m=null;if(n<g.length-1){m=g[n+1]}else{m=g[n]}var p=0;if(d>=this.traffic&&d<=m.traffic){var o=d;if(l>0){o=o-this.traffic}p=o}else{p=m.traffic}if(d>=this.traffic){$.each(this.prices,function(){var s=this.price;var r=0;var q="";var t=this.continents;$.each(t,function(u){k+=p*($("#traff"+this).val())*s/f;r+=p*($("#traff"+this).val())*s/f;q+=continents_codes[this]+((u<t.length-1)?", ":"")});if(typeof h[q]=="undefined"){h[q]=r}else{h[q]+=r}})}l+=p});e="";$.each(h,function(n,m){if(m>0){var o=m/i;o=o<1?1:o.toFixed(0);e+=n+" - $"+o+"<br>"}});show_cdn_plan_notes("SkyparkCDN",e);k=k/i;k=k<1?1:k.toFixed(0);$("#traffic_info tr:contains(SkyparkCDN) td:last").html("$"+k)}};if(!Array.min){Array.min=function(a){return Math.min.apply(Math,a)}}function highlight_cheapest(){$("#traffic_info tbody tr.success").removeClass("success");var a=new Array();$("#traffic_info tbody tr td:nth-child(5)").each(function(c){a[c]=$(this).text().replace(/\$/,"")});var b=Array.min(a);$("#traffic_info tbody tr td:nth-child(5):contains('$"+b+"')").each(function(c){if($(this).text()==("$"+b)){$(this).parent().addClass("success")}})}function highlight_recommended(){}function recalculate(){$("#traffic_volume").val($("#traffic_volume").val().replace(/\D+/g,""));if($("#traffic_info").find(":animated").length>0){var a=window.setTimeout(function(){recalculate()},300);return}if($("#traffic_volume").val()>=0){$.each(plans,function(){this()});$("#traffic_info").sortTable({onCol:5,keepRelationships:true,sortType:"numeric",sortDesc:sort_price})}}$(document).ready(function(){$("input").keyup(function(){recalculate()});$("input").change(function(){recalculate();if($("#traffProtocolHTTP:checked").val()){$("#inputHttpRequest").attr("disabled",false)}else{$("#inputHttpRequest").attr("disabled","1")}if($("#traffProtocolHTTPS:checked").val()){$("#inputHttpSRequest").attr("disabled",false)}else{$("#inputHttpSRequest").attr("disabled","1")}})});